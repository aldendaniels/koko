/*!
* Koko JavaScript library v0.1.0
* (c) OneSpot, Inc. - http://onespot.com/
* License: MIT (http://www.opensource.org/licenses/mit-license.php)
*/
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function init(e){ko=e,component.init(ko),kokoView.init(ko),bindings.init(ko),setEarlyExports()}function run(e){config=e,stateNode.init(ko,config,stateTree),stateTree.init(ko),urlResolver.init(ko,config);var o,t=[];for(o in config.routes)t.push(o);var r={};for(o in config.redirects){var i=config.redirects[o];r[o]="object"==typeof i?urlResolver.resolveAbsolutePathToUrl(i.path,i.params):urlResolver.resolveAbsolutePathToUrl(i)}var n;n="object"==typeof config.notFoundRedirect?urlResolver.resolveAbsolutePathToUrl(config.notFoundRedirect.path,config.notFoundRedirect.params):urlResolver.resolveAbsolutePathToUrl(config.notFoundRedirect),router.start({rootUrl:config.rootUrl,routes:t,routeParams:config.routeParams,redirects:r,notFoundRedirect:n,html5History:config.html5History||!1},onRoute),setLateExports()}function onRoute(e,o){stateTree.update(config.routes[e],o)}function navigateToPath(e,o,t){router.navigate(urlResolver.resolvePathToUrl(e,o,t))}function navigateToUrl(e){router.navigate(e)}function setEarlyExports(){utils.assign(module.exports,{componentViewModel:component.createComponentViewModel,run:run})}function setLateExports(){utils.assign(module.exports,{resolve:urlResolver.resolvePathToUrl,navigateToPath:navigateToPath,navigateToUrl:navigateToUrl,root:{stateNode:stateTree.getRoot()}})}var router=require("./router"),stateNode=require("./state-node"),stateTree=require("./state-tree"),urlResolver=require("./url-resolver"),component=require("./component"),bindings=require("./bindings"),kokoView=require("./koko-view"),utils=require("./utils"),ko,config;module.exports.init=init;
},{"./bindings":3,"./component":4,"./koko-view":6,"./router":7,"./state-node":8,"./state-tree":9,"./url-resolver":10,"./utils":11}],2:[function(require,module,exports){
!function(t){function e(){return""===c.hash||"#"===c.hash}function r(t,e){for(var r=0;r<t.length;r+=1)if(e(t[r],r,t)===!1)return}function n(t){for(var e=[],r=0,n=t.length;n>r;r++)e=e.concat(t[r]);return e}function i(t,e,r){if(!t.length)return r();var n=0;!function i(){e(t[n],function(e){e||e===!1?(r(e),r=function(){}):(n+=1,n===t.length?r():i())})}()}function o(t,e,r){r=t;for(var n in e)if(e.hasOwnProperty(n)&&(r=e[n](t),r!==t))break;return r===t?"([._a-zA-Z0-9-]+)":r}function h(t,e){for(var r,n=0,i="";r=t.substr(n).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)n=r.index+r[0].length,r[0]=r[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),i+=t.substr(0,r.index)+r[0];t=i+=t.substr(n);var s,h,a=t.match(/:([^\/]+)/gi);if(a){h=a.length;for(var c=0;h>c;c++)s=a[c],t="::"===s.slice(0,2)?s.slice(1):t.replace(s,o(s,e))}return t}function a(t,e,r,n){var i,o=0,s=0,h=0,r=(r||"(").toString(),n=(n||")").toString();for(i=0;i<t.length;i++){var a=t[i];if(a.indexOf(r,o)>a.indexOf(n,o)||~a.indexOf(r,o)&&!~a.indexOf(n,o)||!~a.indexOf(r,o)&&~a.indexOf(n,o)){if(s=a.indexOf(r,o),h=a.indexOf(n,o),~s&&!~h||!~s&&~h){var c=t.slice(0,(i||1)+1).join(e);t=[c].concat(t.slice((i||1)+1))}o=(h>s?h:s)+1,i=0}else o=0}return t}Array.prototype.filter||(Array.prototype.filter=function(t,e){for(var r,n=[],i=0,o=this.length;o>i;i++)i in this&&t.call(e,r=this[i],i,this)&&n.push(r);return n}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var c=document.location,u={mode:"modern",hash:c.hash,history:!1,check:function(){var t=c.hash;t!=this.hash&&(this.hash=t,this.onHashChanged())},fire:function(){"modern"===this.mode?this.history===!0?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(t,e){function r(t){for(var e=0,r=f.listeners.length;r>e;e++)f.listeners[e](t)}var n=this;if(this.history=e,f.listeners||(f.listeners=[]),"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7))this.history===!0?setTimeout(function(){window.onpopstate=r},500):window.onhashchange=r,this.mode="modern";else{var i=document.createElement("iframe");i.id="state-frame",i.style.display="none",document.body.appendChild(i),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",function(){"location"===event.propertyName&&n.check()}),window.setInterval(function(){n.check()},50),this.onHashChanged=r,this.mode="legacy"}return f.listeners.push(t),this.mode},destroy:function(t){if(f&&f.listeners)for(var e=f.listeners,r=e.length-1;r>=0;r--)e[r]===t&&e.splice(r,1)},setHash:function(t){return"legacy"===this.mode&&this.writeFrame(t),this.history===!0?(window.history.pushState({},document.title,t),this.fire()):c.hash="/"===t[0]?t:"/"+t,this},writeFrame:function(t){var e=document.getElementById("state-frame"),r=e.contentDocument||e.contentWindow.document;r.open(),r.write("<script>_hash = '"+t+"'; onload = parent.listener.syncHash;<script>"),r.close()},syncHash:function(){var t=this._hash;return t!=c.hash&&(c.hash=t),this},onHashChanged:function(){}},f=t.Router=function(t){return this instanceof f?(this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),void this.mount(t||{})):new f(t)};f.prototype.init=function(t){var r=this;if(this.handler=function(t){var e=t&&t.newURL||window.location.hash,n=r.history===!0?r.getPath():e.replace(/.*#/,"");r.dispatch("on","/"===n.charAt(0)?n:"/"+n)},u.init(this.handler,this.history),this.history===!1)e()&&t?c.hash=t:e()||r.dispatch("on","/"+c.hash.replace(/^(#\/|#|\/)/,""));else{var n=e()&&t?t:e()?null:c.hash.replace(/^#/,"");n&&window.history.replaceState({},document.title,n),(n||this.run_in_init===!0)&&this.handler()}return this},f.prototype.explode=function(){var t=this.history===!0?this.getPath():c.hash;return"/"===t.charAt(1)&&(t=t.slice(1)),t.slice(1,t.length).split("/")},f.prototype.setRoute=function(t,e,r){var n=this.explode();return"number"==typeof t&&"string"==typeof e?n[t]=e:"string"==typeof r?n.splice(t,e,s):n=[t],u.setHash(n.join("/")),n},f.prototype.insertEx=function(t,e,r,n){return"once"===t&&(t="on",r=function(t){var e=!1;return function(){return e?void 0:(e=!0,t.apply(this,arguments))}}(r)),this._insert(t,e,r,n)},f.prototype.getRoute=function(t){var e=t;if("number"==typeof t)e=this.explode()[t];else if("string"==typeof t){var r=this.explode();e=r.indexOf(t)}else e=this.explode();return e},f.prototype.destroy=function(){return u.destroy(this.handler),this},f.prototype.getPath=function(){var t=window.location.pathname;return"/"!==t.substr(0,1)&&(t="/"+t),t},f.prototype.configure=function(t){t=t||{};for(var e=0;e<this.methods.length;e++)this._methods[this.methods[e]]=!0;return this.recurse=t.recurse||this.recurse||!1,this.async=t.async||!1,this.delimiter=t.delimiter||"/",this.strict="undefined"==typeof t.strict?!0:t.strict,this.notfound=t.notfound,this.resource=t.resource,this.history=t.html5history&&this.historySupport||!1,this.run_in_init=this.history===!0&&t.run_handler_in_init!==!1,this.every={after:t.after||null,before:t.before||null,on:t.on||null},this},f.prototype.param=function(t,e){":"!==t[0]&&(t=":"+t);var r=new RegExp(t,"g");this.params[t]=function(t){return t.replace(r,e.source||e)}},f.prototype.on=f.prototype.route=function(t,e,r){var n=this;return r||"function"!=typeof e||(r=e,e=t,t="on"),Array.isArray(e)?e.forEach(function(e){n.on(t,e,r)}):(e.source&&(e=e.source.replace(/\\\//gi,"/")),Array.isArray(t)?t.forEach(function(t){n.on(t.toLowerCase(),e,r)}):(e=e.split(new RegExp(this.delimiter)),e=a(e,this.delimiter),void this.insert(t,this.scope.concat(e),r)))},f.prototype.dispatch=function(t,e,r){function n(){o.last=s.after,o.invoke(o.runlist(s),o,r)}var i,o=this,s=this.traverse(t,e,this.routes,""),h=this._invoked;return this._invoked=!0,s&&0!==s.length?("forward"===this.recurse&&(s=s.reverse()),i=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last],i&&i.length>0&&h?(this.async?this.invoke(i,this,n):(this.invoke(i,this),n()),!0):(n(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:t,path:e},r),!1)},f.prototype.invoke=function(t,e,n){var o,s=this;this.async?(o=function(r,n){return Array.isArray(r)?i(r,o,n):void("function"==typeof r&&r.apply(e,t.captures.concat(n)))},i(t,o,function(){n&&n.apply(e,arguments)})):(o=function(n){return Array.isArray(n)?r(n,o):"function"==typeof n?n.apply(e,t.captures||[]):void("string"==typeof n&&s.resource&&s.resource[n].apply(e,t.captures||[]))},r(t,o))},f.prototype.traverse=function(t,e,r,n,i){function o(t){function e(t){for(var r=[],n=0;n<t.length;n++)r[n]=Array.isArray(t[n])?e(t[n]):t[n];return r}function r(t){for(var e=t.length-1;e>=0;e--)Array.isArray(t[e])?(r(t[e]),0===t[e].length&&t.splice(e,1)):i(t[e])||t.splice(e,1)}if(!i)return t;var n=e(t);return n.matched=t.matched,n.captures=t.captures,n.after=t.after.filter(i),r(n),n}var s,h,a,c,u=[];if(e===this.delimiter&&r[t])return c=[[r.before,r[t]].filter(Boolean)],c.after=[r.after].filter(Boolean),c.matched=!0,c.captures=[],o(c);for(var f in r)if(r.hasOwnProperty(f)&&(!this._methods[f]||this._methods[f]&&"object"==typeof r[f]&&!Array.isArray(r[f]))){if(s=h=n+this.delimiter+f,this.strict||(h+="["+this.delimiter+"]?"),a=e.match(new RegExp("^"+h)),!a)continue;if(a[0]&&a[0]==e&&r[f][t])return c=[[r[f].before,r[f][t]].filter(Boolean)],c.after=[r[f].after].filter(Boolean),c.matched=!0,c.captures=a.slice(1),this.recurse&&r===this.routes&&(c.push([r.before,r.on].filter(Boolean)),c.after=c.after.concat([r.after].filter(Boolean))),o(c);if(c=this.traverse(t,e,r[f],s),c.matched)return c.length>0&&(u=u.concat(c)),this.recurse&&(u.push([r[f].before,r[f].on].filter(Boolean)),c.after=c.after.concat([r[f].after].filter(Boolean)),r===this.routes&&(u.push([r.before,r.on].filter(Boolean)),c.after=c.after.concat([r.after].filter(Boolean)))),u.matched=!0,u.captures=c.captures,u.after=c.after,o(u)}return!1},f.prototype.insert=function(t,e,r,n){var i,o,s,a,c;if(e=e.filter(function(t){return t&&t.length>0}),n=n||this.routes,c=e.shift(),/\:|\*/.test(c)&&!/\\d|\\w/.test(c)&&(c=h(c,this.params)),e.length>0)return n[c]=n[c]||{},this.insert(t,e,r,n[c]);if(c||e.length||n!==this.routes){if(o=typeof n[c],s=Array.isArray(n[c]),n[c]&&!s&&"object"==o)switch(i=typeof n[c][t]){case"function":return void(n[c][t]=[n[c][t],r]);case"object":return void n[c][t].push(r);case"undefined":return void(n[c][t]=r)}else if("undefined"==o)return a={},a[t]=r,void(n[c]=a);throw new Error("Invalid route context: "+o)}switch(i=typeof n[t]){case"function":return void(n[t]=[n[t],r]);case"object":return void n[t].push(r);case"undefined":return void(n[t]=r)}},f.prototype.extend=function(t){function e(t){n._methods[t]=!0,n[t]=function(){var e=1===arguments.length?[t,""]:[t];n.on.apply(n,e.concat(Array.prototype.slice.call(arguments)))}}var r,n=this,i=t.length;for(r=0;i>r;r++)e(t[r])},f.prototype.runlist=function(t){var e=this.every&&this.every.before?[this.every.before].concat(n(t)):n(t);return this.every&&this.every.on&&e.push(this.every.on),e.captures=t.captures,e.source=t.source,e},f.prototype.mount=function(t,e){function r(e,r){var i=e,o=e.split(n.delimiter),s=typeof t[e],h=""===o[0]||!n._methods[o[0]],c=h?"on":i;return h&&(i=i.slice((i.match(new RegExp("^"+n.delimiter))||[""])[0].length),o.shift()),h&&"object"===s&&!Array.isArray(t[e])?(r=r.concat(o),void n.mount(t[e],r)):(h&&(r=r.concat(i.split(n.delimiter)),r=a(r,n.delimiter)),void n.insert(c,r,t[e]))}if(t&&"object"==typeof t&&!Array.isArray(t)){var n=this;e=e||[],Array.isArray(e)||(e=e.split(n.delimiter));for(var i in t)t.hasOwnProperty(i)&&r(i,e.slice(0))}}}("object"==typeof exports?exports:window);
},{}],3:[function(require,module,exports){
function init(t){t.bindingHandlers.kokoHref={init:function(e){t.utils.registerEventHandler(e,"click",function(t){router.navigate(e.getAttribute("href")),t.preventDefault()})},update:function(t,e,r,i,a){var l=e(),u=utils.getStateNodeFromContext(a),o=urlResolver.resolvePathToUrl(l.path,l.params,u);if(t.setAttribute("href",o),l.activate){var n=urlResolver.pathMatchesCurrent(l.path,l.params,u);utils.toggleElemClass(t,"active",n)}}},t.bindingHandlers.kokoActivate={update:function(t,e,r,i,a){var l=e(),u=($(t),utils.getStateNodeFromContext(a)),o=urlResolver.pathMatchesCurrent(l.path,l.params,u);utils.toggleElemClass(t,"active",o)}}}var urlResolver=require("./url-resolver"),utils=require("./utils"),router=require("./router");module.exports={init:init};
},{"./router":7,"./url-resolver":10,"./utils":11}],4:[function(require,module,exports){
function init(e){ko=e}function createComponentViewModel(e,s){for(var t in e)if("dispose"===t)throw new Error('The "dispose()" method is reserved. Please name your dispose handler something else.');var o=function(e){s||utils.bindMethods(this),this.koko=new ComponentState(e.stateNode),this.dispose=this.koko.dispose.bind(this.koko),this.init&&this.init(e.parent)};for(var i in e)o.prototype[i]=e[i];return o}var ko,utils=require("./utils"),router=require("./router"),urlResolver=require("./url-resolver"),ComponentState=utils.createClass({init:function(e){this.disposable=[],this.disposeHandlers=[],this.stateNode=e,this.routeParams=this.stateNode.routeParams},setReady:function(){this.stateNode.setReady()},navigate:function(e,s){router.navigate(urlResolver.resolvePathToUrl(e,s,this.stateNode))},on:function(e,s){switch(e){case"componentDisposal":this.disposeHandlers.push(s);break;case"dependencyChange":this.disposable.push(ko.computed(s));break;default:throw new Error("Unrecognized event type!")}},dispose:function(){var e;for(e in this.disposeHandlers)this.disposeHandlers[e]();for(e in this.disposable)this.disposable[e].dispose()}});module.exports={init:init,createComponentViewModel:createComponentViewModel};
},{"./router":7,"./url-resolver":10,"./utils":11}],5:[function(require,module,exports){
module.exports='<!-- ko foreach: $parent.koko.stateNode.children -->\n<div data-bind="\n    component: {\n        name: component,\n        params: { stateNode: $data, parent: $parents[1] }\n    }, visible: isVisible()\n"></div>\n<!-- /ko -->';
},{}],6:[function(require,module,exports){
function init(e){e.components.register("koko-view",{template:require("./koko-view.html")})}module.exports={init:init};
},{"./koko-view.html":5}],7:[function(require,module,exports){
function normalizeUrlFragment(r){return r?("/"!==r.slice(0,1)&&(r="/"+r),"/"!==r.slice(r.length-1,1)&&(r+="/"),r):"/"}function startRouter(r,t){if(routes)throw new Error("The router is already started.");if(routes=r.routes,routeParams=r.routeParams,redirects=r.redirects,notFoundRedirect=r.notFoundRedirect,!(routes&&routeParams&&redirects&&notFoundRedirect))throw new Error("Invalid configuration");var e,o=function(r){return r};for(e in r.routeParams)r.routeParams[e]=routeParams[e]||{},r.routeParams[e].parse=routeParams[e].parse||o,r.routeParams[e].regex=routeParams[e].regex||/(.*)/g;router=new director.Router,router.configure({html5history:r.html5History});for(e in routeParams)router.param(e,routeParams[e].regex);var a;for(var i in routes)a=routes[i],router.on(utils.optionalizeTrailingSlash(a),onRoute.bind(window,a,t));for(a in redirects)router.on(utils.optionalizeTrailingSlash(a),function(){navigate(redirects[a])});if(router.on(".*",function(){navigate(notFoundRedirect)}),!router.history){var n=normalizeUrlFragment(window.location.pathname),u=normalizeUrlFragment(r.rootPath);if(n.slice(0,u.length)!==u)throw new Error('Path does not start with the provided "root" path');if(n=n.slice(u.length-1),"/"!==n)return void(window.location=u+"#"+n)}router.init(router.history?"":window.location.pathname)}function navigate(r){"/#"===r.slice(0,2)&&(r=r.slice(2)),router.setRoute(r)}function onRoute(r,t){var e=Array.prototype.slice.call(arguments,2),o={},a=0;utils.processPattern(r,function(r,t){t&&(o[r]=routeParams[r].parse(e[a]),a++)}),t(r,o)}var director=require("director"),utils=require("./utils"),router,routes,routeParams,redirects,notFoundRedirect;module.exports={start:startRouter,navigate:navigate};
},{"./utils":11,"director":2}],8:[function(require,module,exports){
function init(t,n,i){ko=t,config=n,state=i}var utils=require("./utils"),ko,state,config,StateNode=utils.createClass({init:function(t,n,i){this.parent=i,this.component=t,this.children=ko.observableArray(),this.status=ko.observable("loading"),this.routeParams={};for(var e in config.routeParams)this.routeParams[e]=ko.observable(n[e]||null)},isVisible:function(){return"visible"===this.status()||"pending_removal"===this.status()},setReady:function(){if("loading"!==this.status())throw new Error("Only loading components can be marked as ready");this.status("pending_visible"),state.transitionIfReady()},updateRouteParams:function(t){if("pending_removal"===this.status())throw new Error("Params should not be updated while pending removal");var n;for(n in this.routeParams)n in t||this.routeParams[n](null);for(n in t){if(!(n in this.routeParams))throw new Error("Unrecognized parameter name.");this.routeParams[n](t[n])}},transition:function(){this.children.remove(function(t){return"pending_removal"===t.status()}),this.children().length&&(this.children()[0].status("visible"),this.children()[0].transition())},getPathToHere:function(){for(var t=[this.component],n=this;n.parent.component;)t.splice(0,0,n.parent.component),n=n.parent;return t.join(".")},loadChild:function(t){var n=this.getMatchingChild(t);if(n)return n;this.children.remove(function(t){return"loading"===t.status()}),this.children().length>1&&console.log("There should only be 1 active child component at a time"),this.children().forEach(function(t){t.status("pending_removal")});var i=new StateNode(t,ko.toJS(this.routeParams),this);return this.children.push(i),i},isBranchReady:function(){if("loading"===this.status())return!1;for(var t in this.children())if(!this.children()[t].isBranchReady())return!1;return!0},getMatchingChild:function(t){var n=this.children().filter(function(n){return n.component===t});return n.length?n[0]:null}});module.exports={init:init,StateNode:StateNode};
},{"./utils":11}],9:[function(require,module,exports){
function init(t){tree=new stateNode.StateNode(null,{}),tree.status("visible"),activePath="",activePathNotifyer=t.observable()}function update(t,e){var a=tree;activePath=t,t.split(".").forEach(function(t){a=a.loadChild(t),a.updateRouteParams(e)}),a.children().length&&(a.children.removeAll(),activePathNotifyer(activePath))}function transitionIfReady(){tree.isBranchReady()&&(tree.transition(),activePathNotifyer(activePath))}function getActivePath(){return activePathNotifyer(),activePath}function getRoot(){return tree}var stateNode=require("./state-node"),tree,activePath,activePathNotifyer;module.exports={init:init,update:update,transitionIfReady:transitionIfReady,getActivePath:getActivePath,getRoot:getRoot};
},{"./state-node":8}],10:[function(require,module,exports){
function init(t,r){ko=t,config=r}function resolveAbsolutePathToUrl(t,r){r=r||{};var e=[];utils.forOwn(config.routes,function(r,o){o===t&&e.push(r)});var o=e.map(function(t){var e=[],o=!0;return utils.processPattern(t,function(t,n){if(n){if(!r.hasOwnProperty(t))return o=!1,!1;var a=r[t]+"",i=config.routeParams[t].regex,l=a.match(i);if(!l||l[0]!==a)return o=!1,!1;e.push(r[t]+"")}else e.push(t)}),o?e.join("/"):null}).filter(function(t){return null!==t});if(1===o.length)return(config.html5History?"":"/#")+o[0];var n=' for path "'+t+'" and params "'+JSON.stringify(r)+'".';if(0===o.length)throw new Error("Could not resolve url"+n);throw new Error("Multple URLs match"+n)}function resolvePathToUrl(t,r,e){if(r=r||{},isPathRelative(t)){t=e.getPathToHere()+("."===t?"":t);var o=e.params;for(var n in o)r[n]||(r[n]=o[n]())}return resolveAbsolutePathToUrl(t,r)}function pathMatchesCurrent(t,r,e){var o=resolvePathToUrl(t,r,e),n=resolveAbsolutePathToUrl(stateTree.getActivePath(),ko.toJS(e.routeParams));return 0===n.indexOf(o)}function isPathRelative(t){return 0===t.indexOf(".")}var stateTree=require("./state-tree"),utils=require("./utils"),ko,config;module.exports={init:init,resolveAbsolutePathToUrl:resolveAbsolutePathToUrl,resolvePathToUrl:resolvePathToUrl,pathMatchesCurrent:pathMatchesCurrent,isPathRelative:isPathRelative};
},{"./state-tree":9,"./utils":11}],11:[function(require,module,exports){
function processPattern(n,o){n.split("/").forEach(function(n){var t=!1;return 0===n.indexOf(":")&&(n=n.replace(":",""),t=!0),o(n,t)})}function optionalizeTrailingSlash(n){return"/"===n.slice(-1)?n+"?":"/?"===n.slice(-1)?n:n+"/?"}function getStateNodeFromContext(n){for(;n&&!getKokoFromBindingContext(n);)n=n.$parent;if(!n)throw new Error("Could not find koko in context");return getKokoFromBindingContext(n).stateNode}function getKokoFromBindingContext(n){return n.koko||n.$data.koko||null}function bindMethods(n){for(var o in n)"function"==typeof n[o]&&(n[o]=n[o].bind(n));return n}function createClass(n,o){var t=function(){o||bindMethods(this),this.init&&this.init.apply(this,arguments)};for(var e in n)t.prototype[e]=n[e];return t}function inArray(n,o){for(var t in n)if(n[t]===o)return!0;return!1}function removeFromArray(n,o){for(var t=n.length-1;t>-0;t--)n[t]===o&&n.splice(t,1)}function addClassToElem(n,o){var t=n.className.split(" ");inArray(t,o)||(t.push(o),n.className=t.join(" "))}function removeClassFromElem(n,o){var t=n.className.split(" ");inArray(t,o)&&(removeFromArray(t,o),n.className=t.join(" "))}function toggleElemClass(n,o,t){t?addClassToElem(n,o):removeClassFromElem(n,o)}function forOwn(n,o){for(var t in n)n.hasOwnProperty(t)&&o(t,n[t])}function assign(n,o){for(var t in o)o.hasOwnProperty(t)&&(n[t]=o[t])}module.exports={processPattern:processPattern,optionalizeTrailingSlash:optionalizeTrailingSlash,getStateNodeFromContext:getStateNodeFromContext,bindMethods:bindMethods,createClass:createClass,toggleElemClass:toggleElemClass,assign:assign,forOwn:forOwn};
},{}]},{},[1]);
